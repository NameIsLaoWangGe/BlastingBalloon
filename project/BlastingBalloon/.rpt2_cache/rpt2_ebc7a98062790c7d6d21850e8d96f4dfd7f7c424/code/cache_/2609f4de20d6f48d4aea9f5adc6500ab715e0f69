{
  "code": "export default class GuideControl extends Laya.Script {\r\n    constructor() {\r\n        super();\r\n        this.guideStep = 0;\r\n    }\r\n    onEnable() {\r\n        console.log('我是新手引导脚本');\r\n        this.self = this.owner;\r\n        this.self['GuideControl'] = this;\r\n        this.gameControl = this.self['GameControl'];\r\n        this.guideBalloonColor = [[1, 0, 1], [1, 0, 0], [1, 1, 0]];\r\n        this.cilksNum = 0;\r\n    }\r\n    guidanceInit() {\r\n        this.guideContainer = new Laya.Sprite();\r\n        this.guideContainer.cacheAs = \"bitmap\";\r\n        Laya.stage.addChild(this.guideContainer);\r\n        var maskArea = new Laya.Sprite();\r\n        maskArea.alpha = 0.5;\r\n        maskArea.graphics.drawRect(0, 0, Laya.stage.width, Laya.stage.height, \"#000000\");\r\n        maskArea.name = 'bg';\r\n        this.guideContainer.addChild(maskArea);\r\n    }\r\n    createGuidanceMask(type) {\r\n        let BalloonParent = this.gameControl.BalloonParent;\r\n        let BalloonVessel = this.gameControl.BalloonVessel;\r\n        let TaskBalloonParent = this.gameControl.TaskBalloonParent;\r\n        let Tip = this.gameControl.Tip;\r\n        for (let index = 0; index < BalloonParent._children.length; index++) {\r\n            const balloon = BalloonParent._children[index];\r\n            if (balloon.name === type) {\r\n                let x = balloon.x + (BalloonParent.x - BalloonParent.width / 2) + (BalloonVessel.x - BalloonVessel.width / 2);\r\n                let y = (balloon.y + BalloonParent.y + BalloonVessel.y) - balloon.height * 0.05;\r\n                let radius = balloon.height / 2 - 30;\r\n                this.createReverseMask(x, y, radius);\r\n            }\r\n            else {\r\n                balloon['Balloon'].balloonClicksOff();\r\n            }\r\n            for (let index = 0; index < TaskBalloonParent._children.length; index++) {\r\n                const taskBalloon = TaskBalloonParent._children[index];\r\n                if (taskBalloon.name === type) {\r\n                    let x = taskBalloon.x + (TaskBalloonParent.x - TaskBalloonParent.width / 2) + (Tip.x - Tip.width / 2);\r\n                    let y = taskBalloon.y + (TaskBalloonParent.y - TaskBalloonParent.height / 2) + (Tip.y - Tip.height / 2);\r\n                    let radius = taskBalloon.height / 2 + 10;\r\n                    this.createReverseMask(x, y, radius);\r\n                }\r\n            }\r\n        }\r\n        console.log(this.interactionArea);\r\n        console.log(this.guideContainer);\r\n    }\r\n    createReverseMask(x, y, radius) {\r\n        this.interactionArea = new Laya.Sprite();\r\n        this.interactionArea.name = 'reverseMask';\r\n        this.interactionArea.blendMode = \"destination-out\";\r\n        this.guideContainer.addChild(this.interactionArea);\r\n        this.interactionArea.graphics.drawCircle(x, y, radius, \"#000000\");\r\n    }\r\n    onDisable() {\r\n    }\r\n}\r\n",
  "references": [
    "F:/Work/Game/03_BlastingBalloon/project/BlastingBalloon/src/Script/Template/Clicks.ts",
    "F:/Work/Game/03_BlastingBalloon/project/BlastingBalloon/src/Script/Project/Background.ts"
  ]
}

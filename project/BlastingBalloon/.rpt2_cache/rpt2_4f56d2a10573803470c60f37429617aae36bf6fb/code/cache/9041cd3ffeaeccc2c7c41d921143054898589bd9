{
  "code": "import { Clicks } from \"../Template/Clicks\";\r\nimport { Animation } from \"../Template/Animation\";\r\nimport { SkTemplete } from \"../Template/SkTemplete\";\r\nexport default class Balloon extends Laya.Script {\r\n    constructor() {\r\n        super();\r\n    }\r\n    onEnable() {\r\n        this.self = this.owner;\r\n        this.self['Balloon'] = this;\r\n        this.gameControl = this.self.scene['GameControl'];\r\n    }\r\n    skeletoninit() {\r\n        this.skeleton = SkTemplete.baoolonTemplet.buildArmature(0);\r\n        this.skeleton.pos(150, 160);\r\n        this.skeleton.play('scale' + '_' + this.self.name, true);\r\n        this.self.addChild(this.skeleton);\r\n    }\r\n    playSkeletonAni(type, loop, speed) {\r\n        this.skeleton.play(type + '_' + this.self.name, loop);\r\n        this.skeleton.rotation = 0;\r\n        this.skeleton.playbackRate(speed);\r\n    }\r\n    clickRight() {\r\n        this.self.removeSelf();\r\n        if (this.gameControl.clickOrderArr.length > 0) {\r\n            this.gameControl.clickOrderArr.shift();\r\n        }\r\n        this.gameControl.balloonClickOrder();\r\n        if (this.gameControl.clickOrderArr.length === 0) {\r\n            this.gameControl.createGameOver('victory');\r\n        }\r\n    }\r\n    clickError() {\r\n        Animation.leftRight_Shake(this.self, 20, 20, 50, f => {\r\n            this.gameControl.createGameOver('defeated');\r\n            this.playSkeletonAni('disdain', true, 1);\r\n        });\r\n    }\r\n    balloonClicksOn() {\r\n        Clicks.clicksOn('balloon', '音效/按钮点击.mp3', this.self, this, null, null, this.up, null);\r\n    }\r\n    balloonClicksOff() {\r\n        Clicks.clicksOff('balloon', this.self, this, null, null, this.up, null);\r\n    }\r\n    up(event) {\r\n        event.currentTarget.scale(Clicks.balloonScale, Clicks.balloonScale);\r\n        if (this.self.name === this.gameControl.clickOrderArr[0]) {\r\n            this.gameControl.explodeAni(this.gameControl.BalloonVessel, this.self.x + (1 - Clicks.balloonScale) * this.self.pivotX / 2, this.self.y + (1 - Clicks.balloonScale) * this.self.pivotY / 2, this.self.name, 20, 10);\r\n            console.log('点击正确1');\r\n            this.clickRight();\r\n        }\r\n        else {\r\n            this.clickError();\r\n            console.log('点击错误！');\r\n        }\r\n    }\r\n    onDisable() {\r\n    }\r\n    onUpdate() {\r\n    }\r\n}\r\n",
  "references": [
    "F:/Work/Game/03_BlastingBalloon/project/BlastingBalloon/src/Script/Project/GameControl.ts",
    "F:/Work/Game/03_BlastingBalloon/project/BlastingBalloon/src/Script/Template/Clicks.ts",
    "F:/Work/Game/03_BlastingBalloon/project/BlastingBalloon/src/Script/Template/Animation.ts",
    "F:/Work/Game/03_BlastingBalloon/project/BlastingBalloon/src/Script/Template/SkTemplete.ts"
  ]
}

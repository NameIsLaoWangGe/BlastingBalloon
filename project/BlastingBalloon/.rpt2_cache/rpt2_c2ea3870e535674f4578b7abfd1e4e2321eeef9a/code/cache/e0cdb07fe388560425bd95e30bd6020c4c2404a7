{
  "code": "import { Enum } from \"../Template/Enum\";\r\nexport default class GameControl extends Laya.Script {\r\n    constructor() {\r\n        super();\r\n    }\r\n    onEnable() {\r\n        this.slef = this.owner;\r\n        this.slef['GameControl'] = this;\r\n        this.levelsParameter();\r\n        this.createBalloonCollection();\r\n    }\r\n    levelsParameter() {\r\n        this.row = 5;\r\n        this.line = 5;\r\n        this.spacing = 5;\r\n        this.colorCategory = 5;\r\n    }\r\n    createBalloonCollection() {\r\n        let widthP = this.BalloonParent.width;\r\n        let heightP = this.BalloonParent.height;\r\n        for (let i = 0; i < this.row; i++) {\r\n            for (let j = 0; j < this.line; j++) {\r\n                let x = widthP / this.row * (i + 1) - widthP / (this.row * 2);\r\n                let y = heightP / this.line * (j + 1) - heightP / (this.line * 2);\r\n                let balloon = this.createBallon(x, y);\r\n                let scale = (widthP / this.row - this.spacing * 2) / balloon.width;\r\n                balloon.scale(scale, scale);\r\n            }\r\n        }\r\n        this.taskPromptSet();\r\n    }\r\n    createBallon(x, y) {\r\n        let balloon = Laya.Pool.getItemByCreateFun('balloon', this.balloon.create, this.balloon);\r\n        this.BalloonParent.addChild(balloon);\r\n        balloon.pos(x, y);\r\n        let img = balloon['Balloon'].img;\r\n        let random = Math.floor(Math.random() * this.colorCategory);\r\n        img.skin = Enum.ColorSkin[random];\r\n        balloon.name = Enum.ColorName[random];\r\n        return balloon;\r\n    }\r\n    taskPromptSet() {\r\n        let arr1 = [];\r\n        for (let i = 0; i < this.BalloonParent._children.length; i++) {\r\n            const balloon = this.BalloonParent._children[i];\r\n            arr1.push(balloon.name);\r\n        }\r\n        let arr2 = Array.from(new Set(arr1));\r\n        let len = arr2.length;\r\n        let widthP = len * 120;\r\n        this.TaskPrompt.width = widthP;\r\n        let heightP = this.TaskPrompt.height;\r\n        for (let j = 0; j < len; j++) {\r\n            const element = arr2[j];\r\n            let x = widthP / len * (j + 1) - widthP / (len * 2);\r\n            let y = heightP / 2;\r\n            let name = arr2[j];\r\n            let colorName = Enum.Color_iconSkin[Enum.ColorName[name]];\r\n            this.createBallon_Icon(x, y, colorName);\r\n        }\r\n        this.TaskPrompt.pivotX = this.TaskPrompt.width / 2;\r\n        this.TaskPrompt.x = 375;\r\n        this.numer();\r\n    }\r\n    numer() {\r\n        for (let j = 0; j < this.TaskPrompt._children.length; j++) {\r\n            let taskBallon = this.TaskPrompt._children[j];\r\n            let taskName = taskBallon.name;\r\n            for (let i = 0; i < this.BalloonParent._children.length; i++) {\r\n                let balloon = this.BalloonParent._children[i];\r\n                let name = balloon.name;\r\n                if (Enum.Color_iconSkin[taskName] === Enum.ColorName[name]) {\r\n                    let num = taskBallon['Balloon_Icon'].num;\r\n                    num.value = (Number(num.value) + 1).toString();\r\n                }\r\n            }\r\n        }\r\n    }\r\n    createBallon_Icon(x, y, colorSkin) {\r\n        let balloon_icon = Laya.Pool.getItemByCreateFun('balloon_icon', this.balloon_icon.create, this.balloon_icon);\r\n        this.TaskPrompt.addChild(balloon_icon);\r\n        balloon_icon.pos(x, y);\r\n        let img = balloon_icon['Balloon_Icon'].img;\r\n        img.skin = colorSkin;\r\n        balloon_icon.name = Enum.ColorName[Enum.Color_iconSkin[colorSkin]];\r\n        return balloon_icon;\r\n    }\r\n    onDisable() {\r\n    }\r\n}\r\n",
  "references": [
    "F:/Work/Game/03_BlastingBalloon/project/BlastingBalloon/src/Script/Template/WXDataManager.ts",
    "F:/Work/Game/03_BlastingBalloon/project/BlastingBalloon/src/Script/Template/Enum.ts"
  ]
}
